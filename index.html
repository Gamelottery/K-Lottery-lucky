<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, maximum-scale=5.0, minimum-scale=0.5">
    <title>BigWin Game - Lottery Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        html {
            scroll-behavior: smooth;
        }
        
        body { 
            font-family: 'Poppins', sans-serif; 
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            position: relative;
        }
        
        .lottery-ball {
            position: relative;
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #ffffff 0%, #e5e7eb 100%);
            box-shadow: 0 12px 30px rgba(0,0,0,0.25), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(0,0,0,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            font-weight: 900;
            letter-spacing: 1px;
        }
        
        .lottery-ball.red { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #ff4757 0%, #c44569 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(255,71,87,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(196,69,105,0.3);
        }
        
        .lottery-ball.blue { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #3742fa 0%, #2f3542 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(55,66,250,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(47,53,66,0.3);
        }
        
        .lottery-ball.green { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #2ed573 0%, #1e90ff 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(46,213,115,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(30,144,255,0.3);
        }
        
        .lottery-ball.purple { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #a55eea 0%, #8854d0 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(165,94,234,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(136,84,208,0.3);
        }
        
        .lottery-ball.orange { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #ff6348 0%, #ff4757 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(255,99,72,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(255,71,87,0.3);
        }
        
        .lottery-ball.yellow { 
            background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.3) 40%, transparent 70%),
                        linear-gradient(145deg, #ffa502 0%, #ff6348 100%);
            color: white; 
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 30px rgba(255,165,2,0.4), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(255,99,72,0.3);
        }
        
        .lottery-ball:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3), 
                        inset 0 4px 8px rgba(255,255,255,0.9),
                        inset 0 -2px 4px rgba(0,0,0,0.1);
        }
        
        .lottery-ball:active {
            transform: translateY(-1px) scale(0.98);
        }
        
        .number-btn {
            background: linear-gradient(145deg, #ffffff 0%, #f9fafb 100%);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
            border: 2px solid #e5e7eb;
        }
        
        .number-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        
        .number-btn.selected {
            background: linear-gradient(145deg, #10b981 0%, #059669 100%);
            color: white;
            border-color: #047857;
            transform: scale(0.95);
        }
        
        .number-btn.selected .bg-white {
            background: white !important;
            color: #10b981 !important;
        }
        
        .multiplier-btn {
            background: linear-gradient(145deg, #fbbf24 0%, #f59e0b 100%);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.2s ease;
        }
        
        .multiplier-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }
        
        .multiplier-btn.selected {
            background: linear-gradient(145deg, #dc2626 0%, #b91c1c 100%);
            transform: scale(0.95);
        }
        
        .big-small-btn {
            transition: all 0.3s ease;
        }
        
        .big-small-btn:hover {
            transform: translateY(-3px);
        }
        
        .big-small-btn.selected {
            transform: scale(0.95);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border: 3px solid #fbbf24;
        }
        
        .game-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .timer-badge {
            background: linear-gradient(145deg, #1f2937 0%, #111827 100%);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .dragon-icon {
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }
        
        .payment-btn {
            transition: all 0.3s ease;
        }
        
        .payment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .upload-area {
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #10b981;
            background-color: #f0fdf4;
        }
    </style>
</head>
<body class="overflow-x-hidden min-h-screen">
    <!-- Top Navigation -->
    <div class="bg-white shadow-lg sticky top-0 z-50">
        <div class="flex items-center justify-between p-4">
            <div class="flex items-center space-x-3">
                <div class="text-xl dragon-icon">üêâ</div>
                <div>
                    <h1 class="text-xl font-bold text-gray-800">BigWin Game</h1>
                    <p class="text-xs text-gray-500">Lottery Platform</p>
                </div>
            </div>
        </div>
        
        <!-- Money Display Section -->
        <div class="bg-gradient-to-r from-emerald-500 to-green-600 text-white py-4">
            <div class="text-center mb-3">
                <div class="text-2xl font-bold" id="balance-display">
                    üí∞ 10,000 Ks
                </div>
                <div class="text-sm opacity-90">·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä±</div>
            </div>
            <div class="flex justify-center space-x-4 mb-2">
                <button onclick="showDepositModal()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full font-semibold transition-all">
                    üì• ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏
                </button>
                <button onclick="showWithdrawModal()" class="bg-white bg-opacity-20 hover:bg-opacity-30 px-6 py-2 rounded-full font-semibold transition-all">
                    üì§ ·ÄÑ·ÄΩ·Ä±·Äë·ÄØ·Äê·Ä∫
                </button>
            </div>
        </div>
        
        <!-- Game Title -->
        <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 px-4">
            <div class="text-center">
                <h2 class="text-xl font-bold">üéØ Win Go 1 Minute</h2>
                <p class="text-sm opacity-90">·Äô·Ä≠·Äî·ÄÖ·Ä∫·Äê·ÄÖ·Ä∫·Äô·Ä≠·Äî·ÄÖ·Ä∫ ·Äë·ÄÆ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏</p>
            </div>
        </div>

        <!-- Game Timer Display -->
        <div class="bg-gradient-to-r from-red-500 to-red-600 text-white py-4 px-4">
            <div class="text-center">
                <div class="text-xs opacity-80 mb-1">·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ <span id="round-number">#·Åà·ÅÖ·ÅÜ</span></div>
                <div class="text-4xl font-bold pulse-animation mb-2" id="timer-text">01:00</div>
                <div class="text-sm opacity-90 mb-3">·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÅ·Äª·Ä≠·Äî·Ä∫</div>
                
                <!-- Recent Numbers -->
                <div class="flex justify-center space-x-2 mb-3" id="recent-numbers">
                    <div class="lottery-ball green w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">3</div>
                    <div class="lottery-ball red w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">6</div>
                    <div class="lottery-ball purple w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">0</div>
                    <div class="lottery-ball red w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">4</div>
                    <div class="lottery-ball purple w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">5</div>
                </div>
                
                <!-- Quick Color Betting -->
                <div class="flex justify-center space-x-2">
                    <button id="red-btn-timer" class="big-small-btn bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold py-2 px-3 rounded-lg text-xs shadow-lg transition-all flex items-center space-x-1" onclick="selectColor('red')">
                        <div class="text-sm">üíé</div>
                        <div class="text-xs">·Ä°·Äî·ÄÆ</div>
                    </button>
                    <button id="green-btn-timer" class="big-small-btn bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold py-2 px-3 rounded-lg text-xs shadow-lg transition-all flex items-center space-x-1" onclick="selectColor('green')">
                        <div class="text-sm">üçÄ</div>
                        <div class="text-xs">·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                    </button>
                    <button id="purple-btn-timer" class="big-small-btn bg-white bg-opacity-20 hover:bg-opacity-30 text-white font-bold py-2 px-3 rounded-lg text-xs shadow-lg transition-all flex items-center space-x-1" onclick="selectColor('purple')">
                        <div class="text-sm">üëë</div>
                        <div class="text-xs">·ÄÅ·Äõ·Äô·Ä∫·Ä∏</div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="p-2 space-y-4 pb-20 min-h-screen">

        <!-- Big/Small Betting Section -->
        <div class="game-card rounded-2xl p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üéØ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏/·Ä°·Äû·Ä±·Ä∏ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏
                <span class="ml-auto text-sm text-green-600 font-bold">x1.95 ·ÄÜ·ÄØ·ÄÄ·Äº·Ä±·Ä∏</span>
            </h2>
            
            <!-- Bet Amount Selection (Hidden by default) -->
            <div id="bet-amount-section" class="hidden bg-gradient-to-r from-yellow-50 to-orange-50 rounded-xl p-4 mb-4 border-2 border-yellow-200">
                <div class="text-center mb-3">
                    <div class="text-lg font-bold text-gray-800" id="selected-choice-text">·Ä°·ÄÄ·Äº·ÄÆ·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏</div>
                    <div class="text-sm text-gray-600">·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´</div>
                </div>
                
                <!-- Bet Amount Grid -->
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <button onclick="placeBigSmallBet(100)" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üíé 100
                    </button>
                    <button onclick="placeBigSmallBet(500)" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üíé 500
                    </button>
                    <button onclick="placeBigSmallBet(1000)" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üíé 1K
                    </button>
                    <button onclick="placeBigSmallBet(5000)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üî• 5K
                    </button>
                    <button onclick="placeBigSmallBet(10000)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üî• 10K
                    </button>
                    <button onclick="placeBigSmallBet(50000)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üî• 50K
                    </button>
                    <button onclick="placeBigSmallBet(100000)" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üëë 100K
                    </button>
                    <button onclick="placeBigSmallBet(500000)" class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üëë 500K
                    </button>
                    <button onclick="placeBigSmallBet(1000000)" class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition-all transform hover:scale-105 text-sm">
                        üëë 1M
                    </button>
                </div>
                
                <button onclick="hideBetAmountSection()" class="w-full bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-bold py-2 px-4 rounded-xl transition-all flex items-center justify-center space-x-2">
                    <span class="text-xl">‚ùå</span>
                    <span>·Äï·Äö·Ä∫·Äñ·Äª·ÄÄ·Ä∫·Äô·Ää·Ä∫</span>
                </button>
            </div>
            

            
            <div class="flex justify-center space-x-4 mb-4">
                <button id="big-btn" class="big-small-btn bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transition-all transform hover:scale-105 flex-1 max-w-xs" onclick="selectBigSmall('big')">
                    <div class="text-lg font-bold">·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    <div class="text-sm opacity-90">(5,6,7,8,9)</div>
                </button>
                <button id="small-btn" class="big-small-btn bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold py-6 px-8 rounded-2xl shadow-lg transition-all transform hover:scale-105 flex-1 max-w-xs" onclick="selectBigSmall('small')">
                    <div class="text-lg font-bold">·Ä°·Äû·Ä±·Ä∏</div>
                    <div class="text-sm opacity-90">(0,1,2,3,4)</div>
                </button>
            </div>
        </div>

        <!-- Color Betting Section -->
        <div class="game-card rounded-2xl p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üåà ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏
                <span class="ml-auto text-sm text-green-600 font-bold">x3.5-6.0 ·ÄÜ·ÄØ·ÄÄ·Äº·Ä±·Ä∏</span>
            </h2>
            <div class="flex justify-center space-x-3 mb-4">
                <button id="red-btn" class="big-small-btn bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 flex-1 max-w-xs" onclick="selectColor('red')">
                    <div class="text-lg mb-1">üíé</div>
                    <div class="text-base font-bold">·Ä°·Äî·ÄÆ</div>
                    <div class="text-xs opacity-90">(2,4,6,8)</div>
                </button>
                <button id="green-btn" class="big-small-btn bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 flex-1 max-w-xs" onclick="selectColor('green')">
                    <div class="text-lg mb-1">üçÄ</div>
                    <div class="text-base font-bold">·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                    <div class="text-xs opacity-90">(1,3,7,9)</div>
                </button>
                <button id="purple-btn" class="big-small-btn bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-4 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 flex-1 max-w-xs" onclick="selectColor('purple')">
                    <div class="text-lg mb-1">üëë</div>
                    <div class="text-base font-bold">·ÄÅ·Äõ·Äô·Ä∫·Ä∏</div>
                    <div class="text-xs opacity-90">(0,5)</div>
                </button>
            </div>
        </div>

        <!-- Number Betting Section -->
        <div class="game-card rounded-2xl p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üéØ ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏
                <span class="ml-auto text-sm text-green-600 font-bold">x9.0 ·ÄÜ·ÄØ·ÄÄ·Äº·Ä±·Ä∏</span>
            </h2>
            <div class="grid grid-cols-5 gap-4 mb-6 justify-items-center">
                <button id="num-0" class="number-btn lottery-ball purple w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(0)">
                    0
                </button>
                <button id="num-1" class="number-btn lottery-ball green w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(1)">
                    1
                </button>
                <button id="num-2" class="number-btn lottery-ball red w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(2)">
                    2
                </button>
                <button id="num-3" class="number-btn lottery-ball green w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(3)">
                    3
                </button>
                <button id="num-4" class="number-btn lottery-ball red w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(4)">
                    4
                </button>
                <button id="num-5" class="number-btn lottery-ball purple w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(5)">
                    5
                </button>
                <button id="num-6" class="number-btn lottery-ball red w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(6)">
                    6
                </button>
                <button id="num-7" class="number-btn lottery-ball green w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(7)">
                    7
                </button>
                <button id="num-8" class="number-btn lottery-ball red w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(8)">
                    8
                </button>
                <button id="num-9" class="number-btn lottery-ball green w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold transition-all duration-300" onclick="selectNumber(9)">
                    9
                </button>
            </div>
            
            <!-- Betting Controls -->
            <div class="bg-gray-50 rounded-xl p-4 mb-4">
                <div class="text-center mb-3">
                    <div class="text-sm text-gray-600 mb-1">·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ:</div>
                    <div class="text-lg font-bold" id="selection-display">
                        <span class="text-gray-400">·Äô·Äõ·ÄΩ·Ä±·Ä∏·Äõ·Äû·Ä±·Ä∏</span>
                    </div>
                </div>
                
                <!-- Multiplier Selection -->
                <div class="mb-4">
                    <div class="text-sm font-semibold text-gray-700 mb-2 text-center">·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè:</div>
                    <div class="flex justify-center space-x-2 flex-wrap gap-2">
                        <button class="multiplier-btn text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-all text-sm" onclick="selectMultiplier(1)">
                            1x
                        </button>
                        <button class="multiplier-btn text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-all text-sm" onclick="selectMultiplier(2)">
                            2x
                        </button>
                        <button class="multiplier-btn text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-all text-sm" onclick="selectMultiplier(5)">
                            5x
                        </button>
                        <button class="multiplier-btn text-white font-bold py-2 px-4 rounded-lg shadow-lg transition-all text-sm" onclick="selectMultiplier(10)">
                            10x
                        </button>
                    </div>
                </div>
                
                <!-- Quick Bet Amounts -->
                <div class="mb-4">
                    <div class="text-sm font-semibold text-gray-700 mb-2 text-center">·Äô·Äº·Äî·Ä∫·ÄÜ·Äî·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏:</div>
                    <div class="grid grid-cols-4 gap-2 mb-3">
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs" onclick="quickBet(100)">
                            100
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs" onclick="quickBet(500)">
                            500
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs" onclick="quickBet(1000)">
                            1K
                        </button>
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs" onclick="quickBet(5000)">
                            5K
                        </button>
                    </div>
                    <div class="grid grid-cols-4 gap-2 mb-3">
                        <button class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(10000)">
                            üî• 10K
                        </button>
                        <button class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(50000)">
                            üî• 50K
                        </button>
                        <button class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(100000)">
                            üëë 100K
                        </button>
                        <button class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(500000)">
                            üëë 500K
                        </button>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(1000000)">
                            üëë 1M
                        </button>
                        <button class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white font-bold py-2 px-2 rounded-lg transition-all text-xs shadow-lg" onclick="quickBet(5000000)">
                            üëë 5M
                        </button>
                    </div>
                </div>
                
                <!-- Bet Amount Display -->
                <div class="text-center mb-4">
                    <div class="text-sm text-gray-600">·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±:</div>
                    <div class="text-2xl font-bold text-green-600" id="bet-amount">0 ·ÄÄ·Äª·Äï·Ä∫</div>
                    <div class="text-xs text-gray-500 mt-1">
                        ·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±: <span id="round-total-bet">0</span> ·ÄÄ·Äª·Äï·Ä∫ | 
                        ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·Äº·Ä≠·Äô·Ä∫: <span id="round-bet-count">0</span>/<span id="max-bets">10</span>
                    </div>
                </div>
                
                <!-- Action Buttons -->
                <div class="flex space-x-3">
                    <button onclick="confirmBet()" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-2">
                        <span class="text-2xl">‚úÖ</span>
                        <span>·Ä°·Äê·Ää·Ä∫·Äï·Äº·ÄØ·Äï·Ä´·Äû·Ää·Ä∫</span>
                    </button>
                    <button onclick="cancelBet()" class="flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold py-3 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 flex items-center justify-center space-x-2">
                        <span class="text-2xl">‚ùå</span>
                        <span>·Äï·Äö·Ä∫·Äñ·Äª·ÄÄ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Latest Winning Numbers -->
        <div class="game-card rounded-2xl p-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üèÜ ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·ÄÜ·ÄØ·Ä∂·Ä∏·Äë·ÄΩ·ÄÄ·Ä∫·Äû·Ä±·Ä¨·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏
                <span class="ml-auto text-sm text-gray-500">#·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫ ·ÅÅ·ÅÇ·ÅÑ·Åá</span>
            </h2>
            <div class="flex justify-center items-center space-x-6 mb-4">
                <div class="lottery-ball green w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold">7</div>
                <div class="text-3xl text-red-600">üî¥</div>
                <div class="flex flex-col items-center">
                    <div class="text-xl font-bold text-red-600">·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    <div class="text-sm text-gray-600">(5-9)</div>
                    <div class="text-sm text-green-600 font-bold">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</div>
                </div>
            </div>
            <div class="text-center text-sm text-gray-600">
                üí∞ ·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏·ÄÜ·ÄØ·ÄÄ·Äº·Ä±·Ä∏: <span class="font-bold text-green-600">·ÅÅ·ÅÇ·ÅÖ,·ÅÑ·ÅÉ·ÅÄ,·ÅÄ·ÅÄ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫</span>
            </div>
        </div>

        <!-- Betting History Section -->
        <div class="game-card rounded-2xl p-6">
            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üìã ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏·Äô·Äæ·Äê·Ä∫·Äê·Äô·Ä∫·Ä∏
                <button onclick="toggleHistoryView()" class="ml-auto text-sm bg-purple-500 text-white px-3 py-1 rounded-full hover:bg-purple-600 transition-all">
                    <span id="history-toggle-text">üìä ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äô·Ää·Ä∫</span>
                </button>
            </h3>
            
            <div id="betting-history-content" class="hidden">
                <!-- Current Round Bets -->
                <div id="current-round-section" class="mb-6">
                    <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                        üéØ ·Äú·ÄÄ·Ä∫·Äõ·Äæ·Ä≠·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫ #<span id="current-round-display">856</span>
                        <span class="ml-auto text-sm text-blue-600" id="current-bets-count">0 ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏</span>
                    </h4>
                    <div id="current-round-bets" class="space-y-2">
                        <div class="text-center text-gray-500 text-sm py-4" id="no-current-bets">
                            ·Äô·Ää·Ä∫·Äû·Ää·Ä∑·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏·Äô·Äæ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´
                        </div>
                    </div>
                </div>
                
                <!-- Past Results -->
                <div id="past-results-section">
                    <h4 class="font-bold text-gray-700 mb-3 flex items-center">
                        üèÜ ·Äö·ÄÅ·ÄÑ·Ä∫·Äõ·Äú·Äí·Ä∫·Äô·Äª·Ä¨·Ä∏
                        <span class="ml-auto text-sm text-green-600" id="total-profit">·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏: +0 Ks</span>
                    </h4>
                    <div id="past-results" class="space-y-2 max-h-64 overflow-y-auto">
                        <div class="text-center text-gray-500 text-sm py-4">
                            ·Äô·Ää·Ä∫·Äû·Ää·Ä∑·Ä∫·Äõ·Äú·Äí·Ä∫·Äô·Äæ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Numbers Statistics Table -->
        <div class="game-card rounded-2xl p-6">
            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
                üìä ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫·Äô·Äª·Ä¨·Ä∏ ·Äë·ÄΩ·ÄÄ·Ä∫·ÄÅ·Ä≤·Ä∑·Äû·Ää·Ä∑·Ä∫·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äõ·Ä±
                <button onclick="toggleStatsView()" class="ml-auto text-sm bg-blue-500 text-white px-3 py-1 rounded-full hover:bg-blue-600 transition-all">
                    <span id="stats-toggle-text">üìà ·Ä°·Äû·Ä±·Ä∏·ÄÖ·Ä≠·Äê·Ä∫</span>
                </button>
            </h3>
            
            <!-- Numbers Frequency Table -->
            <div id="numbers-frequency" class="mb-6">
                <div class="grid grid-cols-5 gap-2 mb-4">
                    <div class="text-center font-bold text-gray-600 text-sm">·Äî·Ä∂·Äï·Ä´·Äê·Ä∫</div>
                    <div class="text-center font-bold text-gray-600 text-sm">·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äõ·Ä±</div>
                    <div class="text-center font-bold text-gray-600 text-sm">·Äõ·Ä¨·ÄÅ·Ä≠·ÄØ·ÄÑ·Ä∫·Äî·Äæ·ÄØ·Äî·Ä∫·Ä∏</div>
                    <div class="text-center font-bold text-gray-600 text-sm">·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</div>
                    <div class="text-center font-bold text-gray-600 text-sm">·Ä°·Äô·Äª·Ä≠·ÄØ·Ä∏·Ä°·ÄÖ·Ä¨·Ä∏</div>
                </div>
                
                <div id="frequency-rows">
                    <!-- Number 0 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball purple w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">0</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-0">12</div>
                        <div class="text-center text-sm text-gray-600" id="percent-0">9.6%</div>
                        <div class="text-center text-purple-600 font-bold text-sm">üëë ·ÄÅ·Äõ·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                    </div>
                    
                    <!-- Number 1 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball green w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">1</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-1">15</div>
                        <div class="text-center text-sm text-gray-600" id="percent-1">12.0%</div>
                        <div class="text-center text-green-600 font-bold text-sm">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                    </div>
                    
                    <!-- Number 2 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball red w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">2</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-2">11</div>
                        <div class="text-center text-sm text-gray-600" id="percent-2">8.8%</div>
                        <div class="text-center text-red-600 font-bold text-sm">üíé ·Ä°·Äî·ÄÆ</div>
                        <div class="text-center text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                    </div>
                    
                    <!-- Number 3 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball green w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">3</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-3">13</div>
                        <div class="text-center text-sm text-gray-600" id="percent-3">10.4%</div>
                        <div class="text-center text-green-600 font-bold text-sm">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                    </div>
                    
                    <!-- Number 4 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball red w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">4</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-4">9</div>
                        <div class="text-center text-sm text-gray-600" id="percent-4">7.2%</div>
                        <div class="text-center text-red-600 font-bold text-sm">üíé ·Ä°·Äî·ÄÆ</div>
                        <div class="text-center text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                    </div>
                    
                    <!-- Number 5 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball purple w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">5</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-5">14</div>
                        <div class="text-center text-sm text-gray-600" id="percent-5">11.2%</div>
                        <div class="text-center text-purple-600 font-bold text-sm">üëë ·ÄÅ·Äõ·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    </div>
                    
                    <!-- Number 6 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball red w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">6</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-6">16</div>
                        <div class="text-center text-sm text-gray-600" id="percent-6">12.8%</div>
                        <div class="text-center text-red-600 font-bold text-sm">üíé ·Ä°·Äî·ÄÆ</div>
                        <div class="text-center text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    </div>
                    
                    <!-- Number 7 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball green w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">7</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-7">18</div>
                        <div class="text-center text-sm text-gray-600" id="percent-7">14.4%</div>
                        <div class="text-center text-green-600 font-bold text-sm">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    </div>
                    
                    <!-- Number 8 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball red w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">8</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-8">10</div>
                        <div class="text-center text-sm text-gray-600" id="percent-8">8.0%</div>
                        <div class="text-center text-red-600 font-bold text-sm">üíé ·Ä°·Äî·ÄÆ</div>
                        <div class="text-center text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    </div>
                    
                    <!-- Number 9 -->
                    <div class="grid grid-cols-5 gap-2 py-3 border-b border-gray-100 hover:bg-gray-50">
                        <div class="text-center">
                            <div class="lottery-ball green w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold mx-auto">9</div>
                        </div>
                        <div class="text-center font-bold text-gray-800" id="count-9">7</div>
                        <div class="text-center text-sm text-gray-600" id="percent-9">5.6%</div>
                        <div class="text-center text-green-600 font-bold text-sm">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏</div>
                        <div class="text-center text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                    </div>
                </div>
            </div>
            
            <!-- Recent History -->
            <div id="recent-history" class="hidden">
                <h4 class="font-bold text-gray-700 mb-3">üìã ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·ÄÜ·ÄØ·Ä∂·Ä∏ ·ÅÇ·ÅÄ ·ÄÄ·Äº·Ä≠·Äô·Ä∫</h4>
                <div class="grid grid-cols-10 gap-1" id="history-grid">
                    <!-- Recent 20 results will be populated here -->
                </div>
                
                <!-- Summary Stats -->
                <div class="mt-4 grid grid-cols-2 gap-4">
                    <div class="bg-red-50 p-3 rounded-lg">
                        <div class="text-red-600 font-bold text-sm">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏</div>
                        <div class="text-xl font-bold text-red-700" id="big-count">12/20</div>
                        <div class="text-xs text-red-600">60%</div>
                    </div>
                    <div class="bg-blue-50 p-3 rounded-lg">
                        <div class="text-blue-600 font-bold text-sm">üîµ ·Ä°·Äû·Ä±·Ä∏</div>
                        <div class="text-xl font-bold text-blue-700" id="small-count">8/20</div>
                        <div class="text-xs text-blue-600">40%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedChoice = null; // 'big', 'small', 'green', or 'purple'
        let selectedMultiplier = 1;
        let baseBet = 100; // 100 kyats base bet
        let timerInterval;
        let countdownTimer = 60; // 1 minute timer
        let roundNumber = 856;
        
        // Game results and sequence for 1min game
        let gameResults = [];
        let gameNumberSequence = [3, 6, 0, 4, 5, 1, 7, 9, 2, 8];

        // Deposit System Variables
        let selectedPaymentMethod = null;
        let selectedDepositAmountValue = 0;
        let uploadedReceiptFile = null;

        // Withdrawal System Variables
        let selectedWithdrawMethod = null;
        let selectedWithdrawAmountValue = 0;

        // Betting History System
        let bettingHistory = [];
        let currentRoundBets = [];

        // Initialize timer
        function startTimer() {
            clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                countdownTimer--;
                updateTimerDisplay();
                
                // Check if game finished
                if (countdownTimer <= 0) {
                    // Reset timer to 1 minute
                    countdownTimer = 60;
                    
                    // Simulate new draw
                    simulateNewDraw();
                    roundNumber++;
                    document.getElementById('round-number').textContent = `#${roundNumber}`;
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(countdownTimer / 60);
            const seconds = countdownTimer % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timer-text').textContent = display;
        }

        function setTimer(seconds) {
            countdownTimer = seconds;
            updateTimerDisplay();
            
            // Visual feedback for timer selection
            document.querySelectorAll('.timer-badge').forEach(badge => {
                badge.classList.remove('bg-red-600');
                badge.classList.add('bg-gray-800');
            });
            event.target.classList.remove('bg-gray-800');
            event.target.classList.add('bg-red-600');
        }

        // Enhanced betting system tracking
        let activeBets = new Map(); // Track all active bets by type
        let betLimits = {
            maxBetsPerRound: 10,
            maxTotalBetAmount: 1000000,
            minBetAmount: 100
        };
        let currentRoundTotalBet = 0;

        function selectBigSmall(choice) {
            // Check betting limits
            if (currentRoundBets.length >= betLimits.maxBetsPerRound) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxBetsPerRound} ·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check if timer is too low (less than 10 seconds)
            if (countdownTimer <= 10) {
                alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·Ää·Ä∫·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            // Remove previous selection
            document.querySelectorAll('.big-small-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('.number-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked button
            if (choice === 'big') {
                document.getElementById('big-btn').classList.add('selected');
                selectedChoice = 'big';
                document.getElementById('selected-choice-text').textContent = '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏';
            } else {
                document.getElementById('small-btn').classList.add('selected');
                selectedChoice = 'small';
                document.getElementById('selected-choice-text').textContent = '·Ä°·Äû·Ä±·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏';
            }
            
            // Show bet amount selection section
            document.getElementById('bet-amount-section').classList.remove('hidden');
            
            // Scroll to bet amount section smoothly
            document.getElementById('bet-amount-section').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
            
            updateSelectionDisplay();
            updateBetAmount();
        }

        function selectColor(color) {
            // Check betting limits
            if (currentRoundBets.length >= betLimits.maxBetsPerRound) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxBetsPerRound} ·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check if timer is too low (less than 10 seconds)
            if (countdownTimer <= 10) {
                alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·Ää·Ä∫·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            // Remove previous selection
            document.querySelectorAll('.big-small-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('.number-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked button
            if (color === 'red') {
                document.getElementById('red-btn').classList.add('selected');
                if (document.getElementById('red-btn-timer')) {
                    document.getElementById('red-btn-timer').classList.add('selected');
                }
                selectedChoice = 'red';
            } else if (color === 'green') {
                document.getElementById('green-btn').classList.add('selected');
                if (document.getElementById('green-btn-timer')) {
                    document.getElementById('green-btn-timer').classList.add('selected');
                }
                selectedChoice = 'green';
            } else if (color === 'purple') {
                document.getElementById('purple-btn').classList.add('selected');
                if (document.getElementById('purple-btn-timer')) {
                    document.getElementById('purple-btn-timer').classList.add('selected');
                }
                selectedChoice = 'purple';
            }
            
            updateSelectionDisplay();
            updateBetAmount();
        }

        function selectNumber(number) {
            // Check betting limits
            if (currentRoundBets.length >= betLimits.maxBetsPerRound) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxBetsPerRound} ·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check if timer is too low (less than 10 seconds)
            if (countdownTimer <= 10) {
                alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·Äî·Ää·Ä∫·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            // Remove previous number selection
            document.querySelectorAll('.number-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Remove other selections
            document.querySelectorAll('.big-small-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked number
            document.getElementById(`num-${number}`).classList.add('selected');
            selectedChoice = `number-${number}`;
            
            updateSelectionDisplay();
            updateBetAmount();
        }

        function selectMultiplier(multiplier) {
            // Remove previous selection
            document.querySelectorAll('.multiplier-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked button
            event.target.classList.add('selected');
            selectedMultiplier = multiplier;
            updateBetAmount();
        }

        function updateSelectionDisplay() {
            const container = document.getElementById('selection-display');
            if (!selectedChoice) {
                container.innerHTML = '<span class="text-gray-400">·Äô·Äõ·ÄΩ·Ä±·Ä∏·Äõ·Äû·Ä±·Ä∏</span>';
            } else if (selectedChoice === 'big') {
                container.innerHTML = '<span class="text-red-600 font-bold">üî¥ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏ (5, 6, 7, 8, 9)</span>';
            } else if (selectedChoice === 'small') {
                container.innerHTML = '<span class="text-blue-600 font-bold">üîµ ·Ä°·Äû·Ä±·Ä∏ (0, 1, 2, 3, 4)</span>';
            } else if (selectedChoice === 'red') {
                container.innerHTML = '<span class="text-red-600 font-bold">üíé ·Ä°·Äî·ÄÆ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (2, 4, 6, 8)</span>';
            } else if (selectedChoice === 'green') {
                container.innerHTML = '<span class="text-green-600 font-bold">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (1, 3, 7, 9)</span>';
            } else if (selectedChoice === 'purple') {
                container.innerHTML = '<span class="text-purple-600 font-bold">üëë ·ÄÅ·Äõ·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ (0, 5)</span>';
            } else if (selectedChoice.startsWith('number-')) {
                const number = selectedChoice.split('-')[1];
                let numberColor = '';
                let numberIcon = '';
                
                // Determine color and icon based on number
                if ([2, 4, 6, 8].includes(parseInt(number))) {
                    numberColor = 'text-red-600';
                    numberIcon = 'üíé';
                } else if ([1, 3, 7, 9].includes(parseInt(number))) {
                    numberColor = 'text-green-600';
                    numberIcon = 'üçÄ';
                } else if ([0, 5].includes(parseInt(number))) {
                    numberColor = 'text-purple-600';
                    numberIcon = 'üëë';
                }
                
                container.innerHTML = `<span class="${numberColor} font-bold">${numberIcon} ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ${number}</span>`;
            }
        }

        function updateBetAmount() {
            const totalBet = selectedChoice ? baseBet * selectedMultiplier : 0;
            document.getElementById('bet-amount').textContent = `${totalBet.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫`;
        }

        function confirmBet() {
            // Comprehensive validation
            if (!selectedChoice) {
                alert('‚ùå ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏·Åä ·Ä°·Äû·Ä±·Ä∏·Åä ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            // Check if timer is too low (less than 5 seconds)
            if (countdownTimer <= 5) {
                alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·ÄÄ·ÄØ·Äî·Ä∫·Äî·Ä±·Äï·Ä´·Äï·Äº·ÄÆ! ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            const totalBet = baseBet * selectedMultiplier;
            
            // Validate bet amount
            if (totalBet < betLimits.minBetAmount) {
                alert(`‚ùå ·Ä°·Äî·Ää·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.minBetAmount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äõ·Äï·Ä´·Äô·Ää·Ä∫!`);
                return;
            }
            
            // Check total bet limit for this round
            if (currentRoundTotalBet + totalBet > betLimits.maxTotalBetAmount) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxTotalBetAmount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check betting limits
            if (currentRoundBets.length >= betLimits.maxBetsPerRound) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxBetsPerRound} ·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check if user has enough balance
            const currentBalance = getCurrentBalance();
            if (currentBalance === 0) {
                alert('‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            if (totalBet > currentBalance) {
                alert(`‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·Äô·Äú·ÄØ·Ä∂·Äú·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´! ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äû·Ää·Ä∫: ${totalBet.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫, ·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫: ${currentBalance.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫`);
                return;
            }
            
            // Double confirmation for large bets
            if (totalBet >= 100000) {
                const confirmLargeBet = confirm(`‚ö†Ô∏è ${totalBet.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã ·Äû·Ä±·ÄÅ·Äª·Ä¨·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?`);
                if (!confirmLargeBet) {
                    return;
                }
            }
            
            // Deduct bet amount from balance
            const newBalance = currentBalance - totalBet;
            updateBalance(newBalance);
            
            // Update round totals
            currentRoundTotalBet += totalBet;
            
            let choiceText;
            if (selectedChoice === 'big') choiceText = '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏';
            else if (selectedChoice === 'small') choiceText = '·Ä°·Äû·Ä±·Ä∏';
            else if (selectedChoice === 'red') choiceText = '·Ä°·Äî·ÄÆ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice === 'green') choiceText = '·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice === 'purple') choiceText = '·ÄÅ·Äõ·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice.startsWith('number-')) {
                const number = selectedChoice.split('-')[1];
                choiceText = `·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ${number}`;
            }
            
            // Add bet to current round tracking
            addBetToCurrentRound(selectedChoice, totalBet, choiceText);
            
            // Show success message and clear selections for next bet
            showSuccessMessage(totalBet, choiceText);
            
            // Clear selections after betting to allow new bets
            setTimeout(() => {
                clearSelections();
            }, 1000);
        }

        function showSuccessMessage(betAmount, choice) {
            // Create large overlay success message
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            // Create success icon container
            const successIcon = document.createElement('div');
            successIcon.style.cssText = `
                background: white;
                border-radius: 24px;
                padding: 32px;
                text-align: center;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
                transform: scale(0.5);
                transition: transform 0.5s ease;
                max-width: 320px;
                margin: 16px;
            `;
            
            successIcon.innerHTML = `
                <div style="font-size: 80px; margin-bottom: 16px; animation: bounce 1s infinite;">
                    <div style="position: relative; display: inline-block;">
                        <div style="color: #10b981;">‚úÖ</div>
                        <div style="position: absolute; top: -8px; left: 50%; transform: translateX(-50%); font-size: 24px; animation: pulse 2s infinite;">‚ú®</div>
                        <div style="position: absolute; top: -4px; left: 25%; transform: translateX(-50%); font-size: 20px; animation: pulse 2s infinite; animation-delay: 0.2s;">üí´</div>
                        <div style="position: absolute; top: -12px; right: 25%; transform: translateX(50%); font-size: 20px; animation: pulse 2s infinite; animation-delay: 0.4s;">‚≠ê</div>
                    </div>
                </div>
                <div style="font-size: 28px; font-weight: bold; color: #10b981; margin-bottom: 12px;">üéâ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÄ·ÄÖ·Ä¨·Ä∏·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫! üéâ</div>
                <div style="font-size: 18px; color: #374151; margin-bottom: 8px;">·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±: ${betAmount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</div>
                <div style="font-size: 18px; color: #374151; margin-bottom: 16px;">·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äô·Äæ·ÄØ: ${choice}</div>
                <div style="font-size: 14px; color: #6b7280;">·Äõ·Äú·Äí·Ä∫·ÄÄ·Ä≠·ÄØ ·ÄÖ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·ÄÜ·Ä≠·ÄØ·ÄÑ·Ä∫·Ä∏·Äï·Ä´...</div>
            `;
            
            overlay.appendChild(successIcon);
            document.body.appendChild(overlay);
            
            // Force reflow and animate in
            overlay.offsetHeight;
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                successIcon.style.transform = 'scale(1)';
            }, 50);
            
            // Click to close
            overlay.addEventListener('click', () => {
                overlay.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(overlay)) {
                        document.body.removeChild(overlay);
                    }
                }, 300);
            });
            
            // Auto remove after 3 seconds
            setTimeout(() => {
                if (document.body.contains(overlay)) {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        if (document.body.contains(overlay)) {
                            document.body.removeChild(overlay);
                        }
                    }, 300);
                }
            }, 3000);
        }

        function cancelBet() {
            // Clear all selections
            selectedChoice = null;
            selectedMultiplier = 1;
            
            // Reset UI
            document.querySelectorAll('.big-small-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('.multiplier-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            updateSelectionDisplay();
            updateBetAmount();
            
            alert('‚ùå ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÑ·ÄΩ·Ä±·Äï·Äö·Ä∫·Äñ·Äª·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏');
        }

        function simulateNewDraw() {
            // Process current round bets and calculate results
            processCurrentRoundResults();
            
            // Reset all betting tracking for new round
            currentRoundTotalBet = 0;
            activeBets.clear();
            
            // Get next number from the predefined sequence
            const sequenceIndex = gameResults.length % gameNumberSequence.length;
            const winningNumber = gameNumberSequence[sequenceIndex];
            
            // Store the result
            gameResults.push(winningNumber);
            
            const isBig = winningNumber >= 5;
            const isRed = [2, 4, 6, 8].includes(winningNumber);
            const isGreen = [1, 3, 7, 9].includes(winningNumber);
            const isPurple = [0, 5].includes(winningNumber);
            
            // Determine ball color based on number
            let ballColor;
            if (isRed) ballColor = 'red';
            else if (isGreen) ballColor = 'green';
            else if (isPurple) ballColor = 'purple';
            else ballColor = isBig ? 'red' : 'blue';
            
            const resultText = isBig ? '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏' : '·Ä°·Äû·Ä±·Ä∏';
            
            // Update the latest winning number display
            const ballsContainer = document.querySelector('.game-card .flex.justify-center.items-center.space-x-6');
            ballsContainer.innerHTML = `
                <div class="lottery-ball ${ballColor} w-20 h-20 rounded-full flex items-center justify-center text-2xl font-bold">${winningNumber}</div>
                <div class="text-3xl ${isBig ? 'text-red-600' : 'text-blue-600'}">${isBig ? 'üî¥' : 'üîµ'}</div>
                <div class="flex flex-col items-center">
                    <div class="text-xl font-bold ${isBig ? 'text-red-600' : 'text-blue-600'}">${resultText}</div>
                    <div class="text-sm text-gray-600">${isBig ? '(5-9)' : '(0-4)'}</div>
                    ${isRed ? '<div class="text-sm text-red-600 font-bold">üíé ·Ä°·Äî·ÄÆ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</div>' : ''}
                    ${isGreen ? '<div class="text-sm text-green-600 font-bold">üçÄ ·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</div>' : ''}
                    ${isPurple ? '<div class="text-sm text-purple-600 font-bold">üëë ·ÄÅ·Äõ·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫</div>' : ''}
                </div>
            `;
            
            // Update recent numbers in timer bar
            updateRecentNumbers(winningNumber, ballColor);
            
            // Update statistics
            updateNumberFrequency(winningNumber);
            
            // Process betting results and update history
            processBettingResults(winningNumber, isBig, isRed, isGreen, isPurple, resultText, ballColor);
            
            // Clear current round bets for next round
            currentRoundBets = [];
            updateCurrentRoundDisplay();
            updateBetTrackingDisplay();
            
            // Update round number display
            document.getElementById('current-round-display').textContent = roundNumber;
        }

        function updateRecentNumbers(newNumber, ballColor) {
            const recentContainer = document.getElementById('recent-numbers');
            
            // Create new number element with lottery ball styling
            const newNumberElement = `<div class="lottery-ball ${ballColor} w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold">${newNumber}</div>`;
            
            // Get current numbers and add new one at the beginning
            const currentNumbers = recentContainer.children;
            const numbersArray = Array.from(currentNumbers).map(el => el.outerHTML);
            
            // Keep only the last 4 numbers and add the new one at the beginning
            numbersArray.unshift(newNumberElement);
            if (numbersArray.length > 5) {
                numbersArray.pop();
            }
            
            // Update the container
            recentContainer.innerHTML = numbersArray.join('');
        }

        function showWinLoseIcon(result, amount, winningNumber, resultText) {
            // Create overlay
            const overlay = document.createElement('div');
            overlay.className = 'fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50';
            overlay.style.zIndex = '9999';
            
            // Create icon container
            const iconContainer = document.createElement('div');
            iconContainer.className = 'bg-white rounded-3xl p-12 text-center shadow-2xl transform scale-0 transition-all duration-700 max-w-sm mx-4';
            
            if (result === 'win') {
                iconContainer.innerHTML = `
                    <div class="text-9xl mb-6 relative animate-bounce">
                        <div class="relative inline-block">
                            <div class="text-green-500">üéâ</div>
                            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 text-3xl animate-pulse">‚ú®</div>
                            <div class="absolute -top-2 left-1/4 transform -translate-x-1/2 text-2xl animate-pulse" style="animation-delay: 0.2s">üí´</div>
                            <div class="absolute -top-6 right-1/4 transform translate-x-1/2 text-2xl animate-pulse" style="animation-delay: 0.4s">‚≠ê</div>
                            <div class="absolute -top-3 right-1/2 transform translate-x-1/2 text-xl animate-pulse" style="animation-delay: 0.6s">‚ú®</div>
                        </div>
                    </div>
                    <div class="text-3xl font-bold text-green-600 mb-4">üèÜ ·Äû·ÄÑ·Ä∫·Ä°·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Äõ·Äæ·Ä≠·Äï·Ä´·Äû·Ää·Ä∫ üèÜ</div>
                    <div class="text-xl text-gray-700 mb-2">·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${winningNumber} (${resultText})</div>
                    <div class="text-2xl font-bold text-green-600 mb-2">+ ${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</div>
                    <div class="text-lg text-gray-600 mt-2">·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Äê·Äö·Ä∫! üçÄ</div>
                `;
            } else {
                iconContainer.innerHTML = `
                    <div class="text-9xl mb-6">
                        <div class="relative inline-block">
                            <div class="text-red-500">üíî</div>
                            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-4xl">üò¢</div>
                        </div>
                    </div>
                    <div class="text-3xl font-bold text-red-600 mb-4">üòû ·Äû·ÄÑ·Ä∫·ÄÄ·Äª·Äõ·Äæ·ÄØ·Ä∂·Ä∏·Äï·Ä´·Äû·Ää·Ä∫ üòû</div>
                    <div class="text-xl text-gray-700 mb-2">·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${winningNumber} (${resultText})</div>
                    <div class="text-2xl font-bold text-red-600 mb-2">- ${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</div>
                    <div class="text-lg text-gray-500 mt-2">·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äê·ÄÖ·Ä∫·ÄÄ·Äº·Ä≠·Äô·Ä∫ ·ÄÄ·Ä∂·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·ÄÖ·Ä±! üôè</div>
                `;
            }
            
            overlay.appendChild(iconContainer);
            document.body.appendChild(overlay);
            
            // Animate in
            setTimeout(() => {
                iconContainer.classList.remove('scale-0');
                iconContainer.classList.add('scale-100');
            }, 200);
            
            // Click to close
            overlay.addEventListener('click', () => {
                overlay.classList.add('opacity-0');
                setTimeout(() => {
                    if (document.body.contains(overlay)) {
                        document.body.removeChild(overlay);
                    }
                }, 300);
            });
            
            // Auto remove after 4 seconds
            setTimeout(() => {
                if (document.body.contains(overlay)) {
                    overlay.classList.add('opacity-0');
                    setTimeout(() => {
                        if (document.body.contains(overlay)) {
                            document.body.removeChild(overlay);
                        }
                    }, 300);
                }
            }, 4000);
        }

        function showDepositModal() {
            // Create overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
                overflow-y: auto;
                padding: 20px;
            `;
            
            // Create modal container
            const modal = document.createElement('div');
            modal.style.cssText = `
                background: white;
                border-radius: 20px;
                padding: 24px;
                text-align: center;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
                transform: scale(0.5);
                transition: transform 0.5s ease;
                max-width: 420px;
                width: 90%;
                max-height: 90vh;
                overflow-y: auto;
            `;
            
            modal.innerHTML = `
                <div style="font-size: 48px; margin-bottom: 16px;">üí∞</div>
                <div style="font-size: 24px; font-weight: bold; color: #374151; margin-bottom: 20px;">
                    ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äõ·Äî·Ä∫
                </div>
                
                <!-- Payment Method Selection -->
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 12px;">
                        ·ÄÑ·ÄΩ·Ä±·Äï·Ä±·Ä∏·ÄÅ·Äª·Ä±·Äô·Äæ·ÄØ·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: center; margin-bottom: 20px;">
                        <button id="wave-pay-btn" onclick="selectPaymentMethod('wave')" style="flex: 1; background: linear-gradient(145deg, #ff6b35, #f7931e); color: white; font-weight: bold; padding: 12px 16px; border-radius: 12px; border: none; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; opacity: 0.7;">
                            <span style="font-size: 20px;">üì±</span>
                            <div style="text-align: center;">
                                <div>Wave Pay</div>
                                <div style="font-size: 12px; opacity: 0.9;">09-123-456-789</div>
                            </div>
                        </button>
                        <button id="kbz-pay-btn" onclick="selectPaymentMethod('kbz')" style="flex: 1; background: linear-gradient(145deg, #1e40af, #1e3a8a); color: white; font-weight: bold; padding: 12px 16px; border-radius: 12px; border: none; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; opacity: 0.7;">
                            <span style="font-size: 20px;">üí≥</span>
                            <div style="text-align: center;">
                                <div>KBZ Pay</div>
                                <div style="font-size: 12px; opacity: 0.9;">09-987-654-321</div>
                            </div>
                        </button>
                    </div>
                </div>
                
                <!-- Amount Selection -->
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 12px;">
                        ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px;">
                        <button onclick="selectDepositAmount(5000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            5,000
                        </button>
                        <button onclick="selectDepositAmount(10000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            10,000
                        </button>
                        <button onclick="selectDepositAmount(20000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            20,000
                        </button>
                        <button onclick="selectDepositAmount(50000)" style="background: linear-gradient(145deg, #8b5cf6, #7c3aed); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            50,000
                        </button>
                        <button onclick="selectDepositAmount(100000)" style="background: linear-gradient(145deg, #8b5cf6, #7c3aed); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            100,000
                        </button>
                        <button onclick="selectDepositAmount(500000)" style="background: linear-gradient(145deg, #ef4444, #dc2626); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            500,000
                        </button>
                    </div>
                    
                    <!-- Custom Amount Input -->
                    <div style="margin-bottom: 16px;">
                        <input type="number" id="custom-amount" placeholder="·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; text-align: center;" oninput="updateDepositAmount(this.value)">
                    </div>
                    
                    <div style="font-size: 18px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
                        ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè: <span id="selected-deposit-amount">0</span> ·ÄÄ·Äª·Äï·Ä∫
                    </div>
                </div>
                
                <!-- Payment Details Form -->
                <div id="payment-details" style="display: none; margin-bottom: 20px;">
                    <div style="background: #f3f4f6; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
                        <div style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px;">
                            ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äõ·Äô·Ää·Ä∑·Ä∫ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫
                        </div>
                        <div id="payment-account-info" style="font-size: 16px; font-weight: bold; color: #1f2937;">
                            <!-- Account info will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Phone Number Input -->
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; text-align: left;">
                            ·Äû·ÄÑ·Ä∑·Ä∫·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ *
                        </label>
                        <input type="tel" id="sender-phone" placeholder="09xxxxxxxxx" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;" required>
                    </div>
                    
                    <!-- Receipt Upload -->
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; text-align: left;">
                            ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Äº·Ä±·ÄÖ·Ä¨ ·Äï·ÄØ·Ä∂ *
                        </label>
                        <div id="upload-area-container" style="border: 2px dashed #d1d5db; border-radius: 8px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.2s;" onclick="document.getElementById('receipt-upload').click()">
                            <input type="file" id="receipt-upload" accept="image/*" style="display: none;" onchange="handleReceiptUpload(this)">
                            <div id="upload-area">
                                <div style="font-size: 32px; margin-bottom: 8px;">üì∑</div>
                                <div style="font-size: 14px; color: #6b7280;">·Äï·ÄØ·Ä∂·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äõ·Äî·Ä∫ ·Äî·Äæ·Ä≠·Äï·Ä∫·Äï·Ä´</div>
                                <div style="font-size: 12px; color: #9ca3af; margin-top: 4px;">JPG, PNG ·Äñ·Ä≠·ÄØ·ÄÑ·Ä∫·Äô·Äª·Ä¨·Ä∏·Äû·Ä¨</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <button onclick="submitDepositRequest()" style="width: 100%; background: linear-gradient(145deg, #10b981, #059669); color: white; font-weight: bold; padding: 14px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; margin-bottom: 12px;">
                        ‚úÖ ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Ää·Ä∫
                    </button>
                </div>
                
                <button onclick="closeDepositModal()" style="width: 100%; background: linear-gradient(145deg, #6b7280, #4b5563); color: white; font-weight: bold; padding: 12px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
                    ‚ùå ·Äï·Ä≠·Äê·Ä∫·Äô·Ää·Ä∫
                </button>
            `;
            
            overlay.appendChild(modal);
            document.body.appendChild(overlay);
            
            // Store reference for closing
            window.currentDepositModal = overlay;
            
            // Force reflow and animate in
            overlay.offsetHeight;
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                modal.style.transform = 'scale(1)';
            }, 50);
        }

        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // Reset button styles
            document.getElementById('wave-pay-btn').style.opacity = '0.7';
            document.getElementById('kbz-pay-btn').style.opacity = '0.7';
            document.getElementById('wave-pay-btn').style.transform = 'scale(1)';
            document.getElementById('kbz-pay-btn').style.transform = 'scale(1)';
            document.getElementById('wave-pay-btn').style.boxShadow = 'none';
            document.getElementById('kbz-pay-btn').style.boxShadow = 'none';
            
            // Highlight selected method
            if (method === 'wave') {
                document.getElementById('wave-pay-btn').style.opacity = '1';
                document.getElementById('wave-pay-btn').style.transform = 'scale(1.05)';
                document.getElementById('wave-pay-btn').style.boxShadow = '0 0 0 3px rgba(255, 107, 53, 0.3)';
                
                // Show Wave Pay account info
                document.getElementById('payment-account-info').innerHTML = `
                    <div style="color: #ff6b35; font-size: 18px; margin-bottom: 8px;">üì± Wave Pay</div>
                    <div style="font-size: 20px; font-weight: bold; margin: 8px 0; color: #1f2937;">09-123-456-789</div>
                    <div style="font-size: 14px; color: #6b7280;">·Ä°·Äô·Ää·Ä∫: BigWin Game</div>
                    <div style="font-size: 12px; color: #ef4444; margin-top: 8px;">‚ö†Ô∏è ·Ä§·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äû·Ä≠·ÄØ·Ä∑·Äû·Ä¨ ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Ä´</div>
                `;
            } else if (method === 'kbz') {
                document.getElementById('kbz-pay-btn').style.opacity = '1';
                document.getElementById('kbz-pay-btn').style.transform = 'scale(1.05)';
                document.getElementById('kbz-pay-btn').style.boxShadow = '0 0 0 3px rgba(30, 64, 175, 0.3)';
                
                // Show KBZ Pay account info
                document.getElementById('payment-account-info').innerHTML = `
                    <div style="color: #1e40af; font-size: 18px; margin-bottom: 8px;">üí≥ KBZ Pay</div>
                    <div style="font-size: 20px; font-weight: bold; margin: 8px 0; color: #1f2937;">09-987-654-321</div>
                    <div style="font-size: 14px; color: #6b7280;">·Ä°·Äô·Ää·Ä∫: BigWin Game</div>
                    <div style="font-size: 12px; color: #ef4444; margin-top: 8px;">‚ö†Ô∏è ·Ä§·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Äû·Ä≠·ÄØ·Ä∑·Äû·Ä¨ ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Ä´</div>
                `;
            }
            
            // Show payment details form if amount is selected
            if (selectedDepositAmountValue > 0) {
                document.getElementById('payment-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('payment-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function selectDepositAmount(amount) {
            selectedDepositAmountValue = amount;
            document.getElementById('selected-deposit-amount').textContent = amount.toLocaleString();
            document.getElementById('custom-amount').value = amount;
            
            // Visual feedback for amount selection
            event.target.style.transform = 'scale(0.95)';
            event.target.style.opacity = '0.8';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
                event.target.style.opacity = '1';
            }, 200);
            
            // Show payment details if payment method is selected
            if (selectedPaymentMethod && selectedDepositAmountValue > 0) {
                document.getElementById('payment-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('payment-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function updateDepositAmount(value) {
            selectedDepositAmountValue = parseInt(value) || 0;
            document.getElementById('selected-deposit-amount').textContent = selectedDepositAmountValue.toLocaleString();
            
            // Show payment details if payment method is selected
            if (selectedPaymentMethod && selectedDepositAmountValue > 0) {
                document.getElementById('payment-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('payment-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function handleReceiptUpload(input) {
            const file = input.files[0];
            if (file) {
                uploadedReceiptFile = file;
                const uploadArea = document.getElementById('upload-area');
                uploadArea.innerHTML = `
                    <div style="font-size: 32px; margin-bottom: 8px;">‚úÖ</div>
                    <div style="font-size: 14px; color: #10b981; font-weight: 600;">${file.name}</div>
                    <div style="font-size: 12px; color: #6b7280; margin-top: 4px;">·Äï·ÄØ·Ä∂·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Äº·ÄÆ·Ä∏</div>
                `;
                document.getElementById('upload-area-container').style.borderColor = '#10b981';
                document.getElementById('upload-area-container').style.backgroundColor = '#f0fdf4';
            }
        }

        function submitDepositRequest() {
            // Validate form
            if (!selectedPaymentMethod) {
                alert('‚ùå ·ÄÑ·ÄΩ·Ä±·Äï·Ä±·Ä∏·ÄÅ·Äª·Ä±·Äô·Äæ·ÄØ·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            if (selectedDepositAmountValue <= 0) {
                alert('‚ùå ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            const senderPhone = document.getElementById('sender-phone').value;
            if (!senderPhone || senderPhone.length < 10) {
                alert('‚ùå ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·ÄÖ·ÄΩ·Ä¨ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´!');
                return;
            }
            
            if (!uploadedReceiptFile) {
                alert('‚ùå ·ÄÑ·ÄΩ·Ä±·Äú·ÄΩ·Äæ·Ä≤·Äï·Äº·Ä±·ÄÖ·Ä¨ ·Äï·ÄØ·Ä∂ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            // Close modal
            closeDepositModal();
            
            // Show success message
            showDepositSuccessMessage(selectedDepositAmountValue, selectedPaymentMethod, senderPhone);
        }

        function showDepositSuccessMessage(amount, method, phone) {
            // Create overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            // Create success container
            const successContainer = document.createElement('div');
            successContainer.style.cssText = `
                background: white;
                border-radius: 20px;
                padding: 32px;
                text-align: center;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
                transform: scale(0.5);
                transition: transform 0.5s ease;
                max-width: 380px;
                margin: 16px;
            `;
            
            const methodText = method === 'wave' ? 'Wave Pay' : 'KBZ Pay';
            const methodIcon = method === 'wave' ? 'üì±' : 'üí≥';
            
            successContainer.innerHTML = `
                <div style="font-size: 64px; margin-bottom: 16px;">
                    <div style="position: relative; display: inline-block;">
                        <div style="color: #10b981;">‚úÖ</div>
                        <div style="position: absolute; top: -8px; left: 50%; transform: translateX(-50%); font-size: 20px; animation: pulse 2s infinite;">‚ú®</div>
                    </div>
                </div>
                <div style="font-size: 24px; font-weight: bold; color: #10b981; margin-bottom: 16px;">
                    üéâ ·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Äæ·ÄØ ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫ üéâ
                </div>
                <div style="background: #f3f4f6; padding: 16px; border-radius: 12px; margin-bottom: 16px; text-align: left;">
                    <div style="font-size: 14px; color: #6b7280; margin-bottom: 8px;">·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Äæ·ÄØ ·Ä°·Äû·Ä±·Ä∏·ÄÖ·Ä≠·Äê·Ä∫:</div>
                    <div style="font-size: 16px; color: #374151; margin-bottom: 4px;">üí∞ ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè: <strong>${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</strong></div>
                    <div style="font-size: 16px; color: #374151; margin-bottom: 4px;">${methodIcon} ·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏: <strong>${methodText}</strong></div>
                    <div style="font-size: 16px; color: #374151;">üì± ·Äñ·ÄØ·Äî·Ä∫·Ä∏: <strong>${phone}</strong></div>
                </div>
                <div style="font-size: 14px; color: #6b7280; margin-bottom: 16px;">
                    ‚è∞ ·Ä°·Äê·Ää·Ä∫·Äï·Äº·ÄØ·ÄÅ·Äª·Ä≠·Äî·Ä∫: ·ÅÖ-·ÅÅ·ÅÄ ·Äô·Ä≠·Äî·ÄÖ·Ä∫·Ä°·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏<br>
                    üìû ·Äï·Äº·Äø·Äî·Ä¨·Äõ·Äæ·Ä≠·Äï·Ä´·ÄÄ: 09-111-222-333
                </div>
                <div style="font-size: 16px; color: #10b981; font-weight: 600;">
                    üôè ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äê·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!
                </div>
            `;
            
            overlay.appendChild(successContainer);
            document.body.appendChild(overlay);
            
            // Force reflow and animate in
            overlay.offsetHeight;
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                successContainer.style.transform = 'scale(1)';
            }, 50);
            
            // Click to close
            overlay.addEventListener('click', () => {
                overlay.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(overlay)) {
                        document.body.removeChild(overlay);
                    }
                }, 300);
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (document.body.contains(overlay)) {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        if (document.body.contains(overlay)) {
                            document.body.removeChild(overlay);
                        }
                    }, 300);
                }
            }, 5000);
        }

        function closeDepositModal() {
            if (window.currentDepositModal) {
                window.currentDepositModal.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(window.currentDepositModal)) {
                        document.body.removeChild(window.currentDepositModal);
                    }
                    window.currentDepositModal = null;
                    
                    // Reset deposit form variables
                    selectedPaymentMethod = null;
                    selectedDepositAmountValue = 0;
                    uploadedReceiptFile = null;
                }, 300);
            }
        }

        function selectWithdrawMethod(method) {
            selectedWithdrawMethod = method;
            
            // Reset button styles
            document.getElementById('withdraw-wave-btn').style.opacity = '0.7';
            document.getElementById('withdraw-kbz-btn').style.opacity = '0.7';
            document.getElementById('withdraw-wave-btn').style.transform = 'scale(1)';
            document.getElementById('withdraw-kbz-btn').style.transform = 'scale(1)';
            document.getElementById('withdraw-wave-btn').style.boxShadow = 'none';
            document.getElementById('withdraw-kbz-btn').style.boxShadow = 'none';
            
            // Highlight selected method
            if (method === 'wave') {
                document.getElementById('withdraw-wave-btn').style.opacity = '1';
                document.getElementById('withdraw-wave-btn').style.transform = 'scale(1.05)';
                document.getElementById('withdraw-wave-btn').style.boxShadow = '0 0 0 3px rgba(255, 107, 53, 0.3)';
            } else if (method === 'kbz') {
                document.getElementById('withdraw-kbz-btn').style.opacity = '1';
                document.getElementById('withdraw-kbz-btn').style.transform = 'scale(1.05)';
                document.getElementById('withdraw-kbz-btn').style.boxShadow = '0 0 0 3px rgba(30, 64, 175, 0.3)';
            }
            
            // Show withdrawal details form if amount is selected
            if (selectedWithdrawAmountValue > 0) {
                document.getElementById('withdraw-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('withdraw-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function selectWithdrawAmount(amount) {
            const currentBalance = getCurrentBalance();
            
            // Check if amount exceeds balance
            if (amount > currentBalance) {
                alert(`‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·Äô·Äú·ÄØ·Ä∂·Äú·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´! ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏: ${currentBalance.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫`);
                return;
            }
            
            selectedWithdrawAmountValue = amount;
            document.getElementById('selected-withdraw-amount').textContent = amount.toLocaleString();
            document.getElementById('withdraw-custom-amount').value = amount;
            
            // Visual feedback for amount selection
            event.target.style.transform = 'scale(0.95)';
            event.target.style.opacity = '0.8';
            setTimeout(() => {
                event.target.style.transform = 'scale(1)';
                event.target.style.opacity = '1';
            }, 200);
            
            // Show withdrawal details if method is selected
            if (selectedWithdrawMethod && selectedWithdrawAmountValue > 0) {
                document.getElementById('withdraw-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('withdraw-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function updateWithdrawAmount(value) {
            const currentBalance = getCurrentBalance();
            const amount = parseInt(value) || 0;
            
            // Check if amount exceeds balance
            if (amount > currentBalance) {
                document.getElementById('withdraw-custom-amount').value = currentBalance;
                selectedWithdrawAmountValue = currentBalance;
                alert(`‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä±·Äë·ÄÄ·Ä∫ ·Äô·Äï·Ä≠·ÄØ·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´! ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏: ${currentBalance.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫`);
            } else {
                selectedWithdrawAmountValue = amount;
            }
            
            document.getElementById('selected-withdraw-amount').textContent = selectedWithdrawAmountValue.toLocaleString();
            
            // Show withdrawal details if method is selected
            if (selectedWithdrawMethod && selectedWithdrawAmountValue > 0) {
                document.getElementById('withdraw-details').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('withdraw-details').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }
        }

        function submitWithdrawRequest() {
            // Validate form
            if (!selectedWithdrawMethod) {
                alert('‚ùå ·ÄÑ·ÄΩ·Ä±·Äú·ÄÄ·Ä∫·ÄÅ·Ä∂·Äô·Ää·Ä∑·Ä∫·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            if (selectedWithdrawAmountValue <= 0) {
                alert('‚ùå ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            if (selectedWithdrawAmountValue < 5000) {
                alert('‚ùå ·Ä°·Äî·Ää·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ·ÅÖ,·ÅÄ·ÅÄ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫ ·Äë·ÄØ·Äê·Ä∫·Äõ·Äï·Ä´·Äô·Ää·Ä∫!');
                return;
            }
            
            const currentBalance = getCurrentBalance();
            if (selectedWithdrawAmountValue > currentBalance) {
                alert('‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·Äô·Äú·ÄØ·Ä∂·Äú·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´!');
                return;
            }
            
            const accountName = document.getElementById('withdraw-account-name').value;
            if (!accountName || accountName.length < 2) {
                alert('‚ùå ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Ä°·Äô·Ää·Ä∫ ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·ÄÖ·ÄΩ·Ä¨ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´!');
                return;
            }
            
            const withdrawPhone = document.getElementById('withdraw-phone').value;
            if (!withdrawPhone || withdrawPhone.length < 10) {
                alert('‚ùå ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·ÄÖ·ÄΩ·Ä¨ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´!');
                return;
            }
            
            const password = document.getElementById('withdraw-password').value;
            if (!password || password.length < 4) {
                alert('‚ùå ·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·ÄÄ·ÄØ·Äí·Ä∫ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´!');
                return;
            }
            
            // Simulate password verification (in real app, this would be server-side)
            if (password !== '1234') {
                alert('‚ùå ·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·ÄÄ·ÄØ·Äí·Ä∫ ·Äô·Äæ·Ä¨·Ä∏·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫!');
                return;
            }
            
            // Deduct amount from balance
            const newBalance = currentBalance - selectedWithdrawAmountValue;
            updateBalance(newBalance);
            
            // Close modal
            closeWithdrawModal();
            
            // Show success message
            showWithdrawSuccessMessage(selectedWithdrawAmountValue, selectedWithdrawMethod, accountName, withdrawPhone);
        }

        function showWithdrawSuccessMessage(amount, method, accountName, phone) {
            // Create overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            // Create success container
            const successContainer = document.createElement('div');
            successContainer.style.cssText = `
                background: white;
                border-radius: 20px;
                padding: 32px;
                text-align: center;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
                transform: scale(0.5);
                transition: transform 0.5s ease;
                max-width: 380px;
                margin: 16px;
            `;
            
            const methodText = method === 'wave' ? 'Wave Pay' : 'KBZ Pay';
            const methodIcon = method === 'wave' ? 'üì±' : 'üí≥';
            
            successContainer.innerHTML = `
                <div style="font-size: 64px; margin-bottom: 16px;">
                    <div style="position: relative; display: inline-block;">
                        <div style="color: #ef4444;">üí∏</div>
                        <div style="position: absolute; top: -8px; left: 50%; transform: translateX(-50%); font-size: 20px; animation: pulse 2s infinite;">‚ú®</div>
                    </div>
                </div>
                <div style="font-size: 24px; font-weight: bold; color: #ef4444; margin-bottom: 16px;">
                    üéâ ·ÄÑ·ÄΩ·Ä±·Äë·ÄØ·Äê·Ä∫·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Äæ·ÄØ ·Ä°·Ä±·Ä¨·ÄÑ·Ä∫·Äô·Äº·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫ üéâ
                </div>
                <div style="background: #fef2f2; border: 2px solid #ef4444; padding: 16px; border-radius: 12px; margin-bottom: 16px; text-align: left;">
                    <div style="font-size: 14px; color: #b91c1c; margin-bottom: 8px;">·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Äæ·ÄØ ·Ä°·Äû·Ä±·Ä∏·ÄÖ·Ä≠·Äê·Ä∫:</div>
                    <div style="font-size: 16px; color: #374151; margin-bottom: 4px;">üí∞ ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè: <strong>${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</strong></div>
                    <div style="font-size: 16px; color: #374151; margin-bottom: 4px;">${methodIcon} ·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏: <strong>${methodText}</strong></div>
                    <div style="font-size: 16px; color: #374151; margin-bottom: 4px;">üë§ ·Ä°·Äô·Ää·Ä∫: <strong>${accountName}</strong></div>
                    <div style="font-size: 16px; color: #374151;">üì± ·Äñ·ÄØ·Äî·Ä∫·Ä∏: <strong>${phone}</strong></div>
                </div>
                <div style="font-size: 14px; color: #6b7280; margin-bottom: 16px;">
                    ‚è∞ ·ÄÑ·ÄΩ·Ä±·Äõ·Ä±·Ä¨·ÄÄ·Ä∫·ÄÅ·Äª·Ä≠·Äî·Ä∫: ·ÅÖ-·ÅÉ·ÅÄ ·Äô·Ä≠·Äî·ÄÖ·Ä∫·Ä°·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏<br>
                    üìû ·Äï·Äº·Äø·Äî·Ä¨·Äõ·Äæ·Ä≠·Äï·Ä´·ÄÄ: 09-111-222-333
                </div>
                <div style="font-size: 16px; color: #ef4444; font-weight: 600;">
                    üôè ·ÄÄ·Äª·Ä±·Ä∏·Äá·Ä∞·Ä∏·Äê·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!
                </div>
            `;
            
            overlay.appendChild(successContainer);
            document.body.appendChild(overlay);
            
            // Force reflow and animate in
            overlay.offsetHeight;
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                successContainer.style.transform = 'scale(1)';
            }, 50);
            
            // Click to close
            overlay.addEventListener('click', () => {
                overlay.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(overlay)) {
                        document.body.removeChild(overlay);
                    }
                }, 300);
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (document.body.contains(overlay)) {
                    overlay.style.opacity = '0';
                    setTimeout(() => {
                        if (document.body.contains(overlay)) {
                            document.body.removeChild(overlay);
                        }
                    }, 300);
                }
            }, 5000);
        }

        function closeWithdrawModal() {
            if (window.currentWithdrawModal) {
                window.currentWithdrawModal.style.opacity = '0';
                setTimeout(() => {
                    if (document.body.contains(window.currentWithdrawModal)) {
                        document.body.removeChild(window.currentWithdrawModal);
                    }
                    window.currentWithdrawModal = null;
                    
                    // Reset withdrawal form variables
                    selectedWithdrawMethod = null;
                    selectedWithdrawAmountValue = 0;
                }, 300);
            }
        }

        function showWithdrawModal() {
            const currentBalance = getCurrentBalance();
            
            // Create overlay
            const overlay = document.createElement('div');
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 99999;
                opacity: 0;
                transition: opacity 0.3s ease;
                overflow-y: auto;
                padding: 20px;
            `;
            
            // Create modal container
            const modal = document.createElement('div');
            modal.style.cssText = `
                background: white;
                border-radius: 20px;
                padding: 24px;
                text-align: center;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
                transform: scale(0.5);
                transition: transform 0.5s ease;
                max-width: 420px;
                width: 90%;
                max-height: 90vh;
                overflow-y: auto;
            `;
            
            modal.innerHTML = `
                <div style="font-size: 48px; margin-bottom: 16px;">üí∏</div>
                <div style="font-size: 24px; font-weight: bold; color: #374151; margin-bottom: 12px;">
                    ·ÄÑ·ÄΩ·Ä±·Äë·ÄØ·Äê·Ä∫·Äõ·Äî·Ä∫
                </div>
                <div style="background: #f0fdf4; border: 2px solid #10b981; border-radius: 12px; padding: 12px; margin-bottom: 20px;">
                    <div style="font-size: 14px; color: #059669; margin-bottom: 4px;">·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä±</div>
                    <div style="font-size: 20px; font-weight: bold; color: #10b981;">${currentBalance.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫</div>
                </div>
                
                <!-- Payment Method Selection -->
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 12px;">
                        ·ÄÑ·ÄΩ·Ä±·Äú·ÄÄ·Ä∫·ÄÅ·Ä∂·Äô·Ää·Ä∑·Ä∫ ·Äî·Ää·Ä∫·Ä∏·Äú·Äô·Ä∫·Ä∏ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´
                    </div>
                    <div style="display: flex; gap: 12px; justify-content: center; margin-bottom: 20px;">
                        <button id="withdraw-wave-btn" onclick="selectWithdrawMethod('wave')" style="flex: 1; background: linear-gradient(145deg, #ff6b35, #f7931e); color: white; font-weight: bold; padding: 12px 16px; border-radius: 12px; border: none; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; opacity: 0.7;">
                            <span style="font-size: 20px;">üì±</span>
                            <div style="text-align: center;">
                                <div>Wave Pay</div>
                                <div style="font-size: 12px; opacity: 0.9;">·Äû·ÄÑ·Ä∑·Ä∫·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫</div>
                            </div>
                        </button>
                        <button id="withdraw-kbz-btn" onclick="selectWithdrawMethod('kbz')" style="flex: 1; background: linear-gradient(145deg, #1e40af, #1e3a8a); color: white; font-weight: bold; padding: 12px 16px; border-radius: 12px; border: none; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; opacity: 0.7;">
                            <span style="font-size: 20px;">üí≥</span>
                            <div style="text-align: center;">
                                <div>KBZ Pay</div>
                                <div style="font-size: 12px; opacity: 0.9;">·Äû·ÄÑ·Ä∑·Ä∫·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫</div>
                            </div>
                        </button>
                    </div>
                </div>
                
                <!-- Amount Selection -->
                <div style="margin-bottom: 20px;">
                    <div style="font-size: 16px; font-weight: 600; color: #374151; margin-bottom: 12px;">
                        ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px;">
                        <button onclick="selectWithdrawAmount(5000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            5,000
                        </button>
                        <button onclick="selectWithdrawAmount(10000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            10,000
                        </button>
                        <button onclick="selectWithdrawAmount(20000)" style="background: linear-gradient(145deg, #3b82f6, #2563eb); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            20,000
                        </button>
                        <button onclick="selectWithdrawAmount(50000)" style="background: linear-gradient(145deg, #8b5cf6, #7c3aed); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            50,000
                        </button>
                        <button onclick="selectWithdrawAmount(100000)" style="background: linear-gradient(145deg, #8b5cf6, #7c3aed); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            100,000
                        </button>
                        <button onclick="selectWithdrawAmount(500000)" style="background: linear-gradient(145deg, #ef4444, #dc2626); color: white; font-weight: bold; padding: 8px 4px; border-radius: 8px; border: none; font-size: 12px; cursor: pointer; transition: all 0.2s;">
                            500,000
                        </button>
                    </div>
                    
                    <!-- Custom Amount Input -->
                    <div style="margin-bottom: 16px;">
                        <input type="number" id="withdraw-custom-amount" placeholder="·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·ÄÄ·Ä≠·ÄØ·Äö·Ä∫·Äê·Ä≠·ÄØ·ÄÑ·Ä∫·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; text-align: center;" oninput="updateWithdrawAmount(this.value)" max="${currentBalance}">
                    </div>
                    
                    <div style="font-size: 18px; font-weight: bold; color: #ef4444; margin-bottom: 16px;">
                        ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè: <span id="selected-withdraw-amount">0</span> ·ÄÄ·Äª·Äï·Ä∫
                    </div>
                </div>
                
                <!-- Account Details Form -->
                <div id="withdraw-details" style="display: none; margin-bottom: 20px;">
                    <div style="background: #fef3c7; border: 2px solid #f59e0b; padding: 16px; border-radius: 12px; margin-bottom: 16px;">
                        <div style="font-size: 14px; font-weight: 600; color: #92400e; margin-bottom: 8px;">
                            ‚ö†Ô∏è ·Ä°·Äõ·Ä±·Ä∏·ÄÄ·Äº·ÄÆ·Ä∏·Äû·Ä±·Ä¨·Äû·Äê·Ä≠·Äï·Ä±·Ä∏·ÄÅ·Äª·ÄÄ·Ä∫
                        </div>
                        <div style="font-size: 12px; color: #92400e; text-align: left;">
                            ‚Ä¢ ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Ä°·Äô·Ää·Ä∫·Äî·Äæ·ÄÑ·Ä∑·Ä∫ ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äô·Äæ·Äî·Ä∫·ÄÄ·Äî·Ä∫·Äõ·Äï·Ä´·Äô·Ää·Ä∫<br>
                            ‚Ä¢ ·ÄÑ·ÄΩ·Ä±·Äë·ÄØ·Äê·Ä∫·ÄÅ·Äª·Ä≠·Äî·Ä∫: ·ÅÖ-·ÅÉ·ÅÄ ·Äô·Ä≠·Äî·ÄÖ·Ä∫·Ä°·Äê·ÄΩ·ÄÑ·Ä∫·Ä∏<br>
                            ‚Ä¢ ·Ä°·Äî·Ää·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏: ·ÅÖ,·ÅÄ·ÅÄ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫
                        </div>
                    </div>
                    
                    <!-- Account Name Input -->
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; text-align: left;">
                            ·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Ä°·Äô·Ää·Ä∫ *
                        </label>
                        <input type="text" id="withdraw-account-name" placeholder="·Äû·ÄÑ·Ä∑·Ä∫·Ä°·ÄÄ·Ä±·Ä¨·ÄÑ·Ä∑·Ä∫·Ä°·Äô·Ää·Ä∫ ·Äõ·Ä≠·ÄØ·ÄÄ·Ä∫·Äë·Ää·Ä∑·Ä∫·Äï·Ä´" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;" required>
                    </div>
                    
                    <!-- Phone Number Input -->
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; text-align: left;">
                            ·Äñ·ÄØ·Äî·Ä∫·Ä∏·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ *
                        </label>
                        <input type="tel" id="withdraw-phone" placeholder="09xxxxxxxxx" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;" required>
                    </div>
                    
                    <!-- Password Confirmation -->
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 8px; text-align: left;">
                            ·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·ÄÄ·ÄØ·Äí·Ä∫ *
                        </label>
                        <input type="password" id="withdraw-password" placeholder="·Äû·ÄÑ·Ä∑·Ä∫·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·ÄÄ·ÄØ·Äí·Ä∫" style="width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;" required>
                        <div style="font-size: 12px; color: #6b7280; margin-top: 4px; text-align: left;">
                            ·Äú·ÄØ·Ä∂·ÄÅ·Äº·ÄØ·Ä∂·Äõ·Ä±·Ä∏·Ä°·Äê·ÄΩ·ÄÄ·Ä∫ ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äï·Ä´·Äû·Ää·Ä∫
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <button onclick="submitWithdrawRequest()" style="width: 100%; background: linear-gradient(145deg, #ef4444, #dc2626); color: white; font-weight: bold; padding: 14px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer; margin-bottom: 12px;">
                        üí∏ ·ÄÑ·ÄΩ·Ä±·Äë·ÄØ·Äê·Ä∫·Äê·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·ÄÜ·Ä≠·ÄØ·Äô·Ää·Ä∫
                    </button>
                </div>
                
                <button onclick="closeWithdrawModal()" style="width: 100%; background: linear-gradient(145deg, #6b7280, #4b5563); color: white; font-weight: bold; padding: 12px; border-radius: 12px; border: none; font-size: 16px; cursor: pointer;">
                    ‚ùå ·Äï·Ä≠·Äê·Ä∫·Äô·Ää·Ä∫
                </button>
            `;
            
            overlay.appendChild(modal);
            document.body.appendChild(overlay);
            
            // Store reference for closing
            window.currentWithdrawModal = overlay;
            
            // Force reflow and animate in
            overlay.offsetHeight;
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                modal.style.transform = 'scale(1)';
            }, 50);
        }

        function getCurrentBalance() {
            const balanceText = document.getElementById('balance-display').textContent;
            const balanceNumber = balanceText.replace(/[^\d]/g, '');
            return parseInt(balanceNumber) || 10000;
        }

        function updateBalance(newBalance) {
            document.getElementById('balance-display').textContent = `üí∞ ${newBalance.toLocaleString()} Ks`;
        }

        function placeBigSmallBet(amount) {
            // Check if user has enough balance
            const currentBalance = getCurrentBalance();
            if (currentBalance === 0) {
                alert('‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            if (amount > currentBalance) {
                alert('‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·Äô·Äú·ÄØ·Ä∂·Äú·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´! ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            // Deduct bet amount from balance
            const newBalance = currentBalance - amount;
            updateBalance(newBalance);
            
            // Mark that user has placed a big/small bet
            hasBigSmallBet = true;
            currentBigSmallChoice = selectedChoice;
            
            // Hide bet amount section
            document.getElementById('bet-amount-section').classList.add('hidden');
            
            // Set the bet amount
            baseBet = amount;
            selectedMultiplier = 1;
            
            // Show success message
            const choiceText = selectedChoice === 'big' ? '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏' : '·Ä°·Äû·Ä±·Ä∏';
            
            // Add bet to current round tracking
            addBetToCurrentRound(selectedChoice, amount, choiceText);
            
            showSuccessMessage(amount, choiceText);
            
            // Clear selections after betting to allow new bets
            setTimeout(() => {
                clearSelections();
            }, 1000);
        }



        function hideBetAmountSection() {
            document.getElementById('bet-amount-section').classList.add('hidden');
            clearSelections();
        }

        function clearSelections() {
            selectedChoice = null;
            selectedMultiplier = 1;
            
            // Reset big/small bet tracking
            hasBigSmallBet = false;
            currentBigSmallChoice = null;
            
            // Reset UI
            document.querySelectorAll('.big-small-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            document.querySelectorAll('.multiplier-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Hide bet amount section
            document.getElementById('bet-amount-section').classList.add('hidden');
            
            updateSelectionDisplay();
            updateBetAmount();
        }

        function quickBet(amount) {
            // Comprehensive validation for quick bets
            if (!selectedChoice) {
                alert('‚ùå ·Äï·Äë·Äô·Ä¶·Ä∏·ÄÖ·ÄΩ·Ä¨ ·Ä°·ÄÄ·Äº·ÄÆ·Ä∏·Åä ·Ä°·Äû·Ä±·Ä∏·Åä ·Ä°·Äõ·Ä±·Ä¨·ÄÑ·Ä∫ ·Äû·Ä≠·ÄØ·Ä∑·Äô·Äü·ÄØ·Äê·Ä∫ ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ·Äõ·ÄΩ·Ä±·Ä∏·ÄÅ·Äª·Äö·Ä∫·Äï·Ä´!');
                return;
            }
            
            // Check if timer is too low (less than 5 seconds)
            if (countdownTimer <= 5) {
                alert('‚ùå ·Ä°·ÄÅ·Äª·Ä≠·Äî·Ä∫·ÄÄ·ÄØ·Äî·Ä∫·Äî·Ä±·Äï·Ä´·Äï·Äº·ÄÆ! ·Äî·Ä±·Ä¨·ÄÄ·Ä∫·Äï·ÄΩ·Ä≤·ÄÖ·Ä•·Ä∫·Äê·ÄΩ·ÄÑ·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            // Validate bet amount
            if (amount < betLimits.minBetAmount) {
                alert(`‚ùå ·Ä°·Äî·Ää·Ä∫·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.minBetAmount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äõ·Äï·Ä´·Äô·Ää·Ä∫!`);
                return;
            }
            
            // Check total bet limit for this round
            if (currentRoundTotalBet + amount > betLimits.maxTotalBetAmount) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxTotalBetAmount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check betting limits
            if (currentRoundBets.length >= betLimits.maxBetsPerRound) {
                alert(`‚ùå ·Äê·ÄÖ·Ä∫·Äï·ÄΩ·Ä≤·Äú·Äª·Äæ·ÄÑ·Ä∫ ·Ä°·Äô·Äª·Ä¨·Ä∏·ÄÜ·ÄØ·Ä∂·Ä∏ ${betLimits.maxBetsPerRound} ·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äû·Ä¨ ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äî·Ä≠·ÄØ·ÄÑ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫!`);
                return;
            }
            
            // Check if user has enough balance
            const currentBalance = getCurrentBalance();
            if (currentBalance === 0) {
                alert('‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·ÅÄ ·ÄÄ·Äª·Äï·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äî·Ä±·Äï·Ä´·Äû·Ää·Ä∫! ·ÄÑ·ÄΩ·Ä±·Äû·ÄΩ·ÄÑ·Ä∫·Ä∏·Äï·Ä´·Åã');
                return;
            }
            
            if (amount > currentBalance) {
                alert(`‚ùå ·Äú·ÄÄ·Ä∫·ÄÄ·Äª·Äî·Ä∫·ÄÑ·ÄΩ·Ä± ·Äô·Äú·ÄØ·Ä∂·Äú·Ä±·Ä¨·ÄÄ·Ä∫·Äï·Ä´! ·Äú·Ä≠·ÄØ·Ä°·Äï·Ä∫·Äû·Ää·Ä∫: ${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫, ·Äõ·Äæ·Ä≠·Äû·Ää·Ä∫: ${currentBalance.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫`);
                return;
            }
            
            // Double confirmation for large quick bets
            if (amount >= 100000) {
                const confirmLargeBet = confirm(`‚ö†Ô∏è ${amount.toLocaleString()} ·ÄÄ·Äª·Äï·Ä∫ ·Äô·Äº·Äî·Ä∫·ÄÜ·Äî·Ä∫·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏·Äô·Ää·Ä∫·Äñ·Äº·ÄÖ·Ä∫·Äï·Ä´·Äû·Ää·Ä∫·Åã ·Äû·Ä±·ÄÅ·Äª·Ä¨·Äï·Ä´·Äû·Äú·Ä¨·Ä∏?`);
                if (!confirmLargeBet) {
                    return;
                }
            }
            
            // Deduct bet amount from balance
            const newBalance = currentBalance - amount;
            updateBalance(newBalance);
            
            // Update round totals
            currentRoundTotalBet += amount;
            
            // Set the bet amount directly
            baseBet = amount;
            selectedMultiplier = 1; // Reset multiplier to 1 since we're setting direct amount
            
            // Update multiplier buttons to show none selected
            document.querySelectorAll('.multiplier-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Update bet amount display
            updateBetAmount();
            
            // Show quick bet confirmation
            let choiceText;
            if (selectedChoice === 'big') choiceText = '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏';
            else if (selectedChoice === 'small') choiceText = '·Ä°·Äû·Ä±·Ä∏';
            else if (selectedChoice === 'red') choiceText = '·Ä°·Äî·ÄÆ·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice === 'green') choiceText = '·Ä°·ÄÖ·Ä≠·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice === 'purple') choiceText = '·ÄÅ·Äõ·Äô·Ä∫·Ä∏·Äõ·Ä±·Ä¨·ÄÑ·Ä∫';
            else if (selectedChoice.startsWith('number-')) {
                const number = selectedChoice.split('-')[1];
                choiceText = `·Äî·Ä∂·Äï·Ä´·Äê·Ä∫ ${number}`;
            }
            
            // Add bet to current round tracking
            addBetToCurrentRound(selectedChoice, amount, choiceText);
            
            // Auto-confirm the bet and clear selections for next bet
            showSuccessMessage(amount, choiceText);
            
            // Clear selections after betting to allow new bets
            setTimeout(() => {
                clearSelections();
            }, 1000);
        }

        // Statistics tracking
        let numberFrequency = {
            0: 12, 1: 15, 2: 11, 3: 13, 4: 9,
            5: 14, 6: 16, 7: 18, 8: 10, 9: 7
        };
        
        let recentHistory = [7, 2, 8, 1, 9, 3, 6, 0, 5, 4, 7, 1, 8, 2, 9, 6, 3, 0, 5, 4];
        let totalGames = 125;

        function toggleStatsView() {
            const frequencyDiv = document.getElementById('numbers-frequency');
            const historyDiv = document.getElementById('recent-history');
            const toggleText = document.getElementById('stats-toggle-text');
            
            if (frequencyDiv.classList.contains('hidden')) {
                frequencyDiv.classList.remove('hidden');
                historyDiv.classList.add('hidden');
                toggleText.textContent = 'üìà ·Ä°·Äû·Ä±·Ä∏·ÄÖ·Ä≠·Äê·Ä∫';
            } else {
                frequencyDiv.classList.add('hidden');
                historyDiv.classList.remove('hidden');
                toggleText.textContent = 'üìä ·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äõ·Ä±';
                updateRecentHistoryDisplay();
            }
        }

        function updateNumberFrequency(number) {
            numberFrequency[number]++;
            totalGames++;
            
            // Update the frequency display
            document.getElementById(`count-${number}`).textContent = numberFrequency[number];
            const percentage = ((numberFrequency[number] / totalGames) * 100).toFixed(1);
            document.getElementById(`percent-${number}`).textContent = `${percentage}%`;
            
            // Add to recent history
            recentHistory.unshift(number);
            if (recentHistory.length > 20) {
                recentHistory.pop();
            }
            
            // Update recent history display if visible
            if (!document.getElementById('recent-history').classList.contains('hidden')) {
                updateRecentHistoryDisplay();
            }
        }

        function updateRecentHistoryDisplay() {
            const historyGrid = document.getElementById('history-grid');
            historyGrid.innerHTML = '';
            
            let bigCount = 0;
            let smallCount = 0;
            
            recentHistory.forEach((number, index) => {
                const isBig = number >= 5;
                const isRed = [2, 4, 6, 8].includes(number);
                const isGreen = [1, 3, 7, 9].includes(number);
                const isPurple = [0, 5].includes(number);
                
                let ballColor;
                if (isRed) ballColor = 'red';
                else if (isGreen) ballColor = 'green';
                else if (isPurple) ballColor = 'purple';
                else ballColor = isBig ? 'red' : 'blue';
                
                if (isBig) bigCount++;
                else smallCount++;
                
                const ballElement = document.createElement('div');
                ballElement.className = `lottery-ball ${ballColor} w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold`;
                ballElement.textContent = number;
                ballElement.title = `·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫ ${20 - index}: ${number} (${isBig ? '·Ä°·ÄÄ·Äº·ÄÆ·Ä∏' : '·Ä°·Äû·Ä±·Ä∏'})`;
                
                historyGrid.appendChild(ballElement);
            });
            
            // Update summary stats
            document.getElementById('big-count').textContent = `${bigCount}/20`;
            document.getElementById('small-count').textContent = `${smallCount}/20`;
            
            // Update percentages
            const bigPercent = ((bigCount / 20) * 100).toFixed(0);
            const smallPercent = ((smallCount / 20) * 100).toFixed(0);
            
            document.querySelector('#big-count').parentElement.querySelector('.text-xs').textContent = `${bigPercent}%`;
            document.querySelector('#small-count').parentElement.querySelector('.text-xs').textContent = `${smallPercent}%`;
        }

        // Betting History Functions
        function addBetToCurrentRound(choice, amount, choiceText) {
            const bet = {
                id: Date.now() + Math.random(),
                choice: choice,
                amount: amount,
                choiceText: choiceText,
                timestamp: new Date().toLocaleTimeString('my-MM', { hour: '2-digit', minute: '2-digit' })
            };
            
            currentRoundBets.push(bet);
            updateCurrentRoundDisplay();
            updateBetTrackingDisplay();
        }
        
        function updateBetTrackingDisplay() {
            // Update round totals display
            document.getElementById('round-total-bet').textContent = currentRoundTotalBet.toLocaleString();
            document.getElementById('round-bet-count').textContent = currentRoundBets.length;
            document.getElementById('max-bets').textContent = betLimits.maxBetsPerRound;
            
            // Update color coding based on limits
            const betCountElement = document.getElementById('round-bet-count');
            const totalBetElement = document.getElementById('round-total-bet');
            
            if (currentRoundBets.length >= betLimits.maxBetsPerRound * 0.8) {
                betCountElement.style.color = '#ef4444'; // Red warning
            } else if (currentRoundBets.length >= betLimits.maxBetsPerRound * 0.6) {
                betCountElement.style.color = '#f59e0b'; // Yellow warning
            } else {
                betCountElement.style.color = '#6b7280'; // Normal gray
            }
            
            if (currentRoundTotalBet >= betLimits.maxTotalBetAmount * 0.8) {
                totalBetElement.style.color = '#ef4444'; // Red warning
            } else if (currentRoundTotalBet >= betLimits.maxTotalBetAmount * 0.6) {
                totalBetElement.style.color = '#f59e0b'; // Yellow warning
            } else {
                totalBetElement.style.color = '#6b7280'; // Normal gray
            }
        }

        function updateCurrentRoundDisplay() {
            const container = document.getElementById('current-round-bets');
            const countDisplay = document.getElementById('current-bets-count');
            const noBetsMessage = document.getElementById('no-current-bets');
            
            if (currentRoundBets.length === 0) {
                noBetsMessage.style.display = 'block';
                countDisplay.textContent = '0 ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏';
                return;
            }
            
            noBetsMessage.style.display = 'none';
            countDisplay.textContent = `${currentRoundBets.length} ·Äú·Ä±·Ä¨·ÄÑ·Ä∫·Ä∏`;
            
            const betsHTML = currentRoundBets.map(bet => {
                let choiceIcon = '';
                let choiceColor = '';
                
                if (bet.choice === 'big') {
                    choiceIcon = 'üî¥';
                    choiceColor = 'text-red-600';
                } else if (bet.choice === 'small') {
                    choiceIcon = 'üîµ';
                    choiceColor = 'text-blue-600';
                } else if (bet.choice === 'red') {
                    choiceIcon = 'üíé';
                    choiceColor = 'text-red-600';
                } else if (bet.choice === 'green') {
                    choiceIcon = 'üçÄ';
                    choiceColor = 'text-green-600';
                } else if (bet.choice === 'purple') {
                    choiceIcon = 'üëë';
                    choiceColor = 'text-purple-600';
                } else if (bet.choice.startsWith('number-')) {
                    const number = bet.choice.split('-')[1];
                    if ([2, 4, 6, 8].includes(parseInt(number))) {
                        choiceIcon = 'üíé';
                        choiceColor = 'text-red-600';
                    } else if ([1, 3, 7, 9].includes(parseInt(number))) {
                        choiceIcon = 'üçÄ';
                        choiceColor = 'text-green-600';
                    } else {
                        choiceIcon = 'üëë';
                        choiceColor = 'text-purple-600';
                    }
                }
                
                return `
                    <div class="bg-gray-50 rounded-lg p-3 flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="text-lg">${choiceIcon}</div>
                            <div>
                                <div class="font-semibold ${choiceColor}">${bet.choiceText}</div>
                                <div class="text-xs text-gray-500">${bet.timestamp}</div>
                            </div>
                        </div>
                        <div class="font-bold text-gray-800">${bet.amount.toLocaleString()} Ks</div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = betsHTML;
        }

        function processCurrentRoundResults() {
            // This function is called before the draw to prepare for result processing
            // The actual result processing happens in processBettingResults
        }

        function processBettingResults(winningNumber, isBig, isRed, isGreen, isPurple, resultText, ballColor) {
            let totalWinnings = 0;
            let totalLosses = 0;
            let hasAnyWin = false;
            let hasAnyLoss = false;
            
            // Process each bet from current round
            currentRoundBets.forEach(bet => {
                let isWin = false;
                let winMultiplier = 1.95; // Default payout
                let winAmount = 0;
                
                // Check if bet won
                if (bet.choice === 'big' && isBig) {
                    isWin = true;
                    winMultiplier = 1.95;
                } else if (bet.choice === 'small' && !isBig) {
                    isWin = true;
                    winMultiplier = 1.95;
                } else if (bet.choice === 'red' && isRed) {
                    isWin = true;
                    winMultiplier = 3.5;
                } else if (bet.choice === 'green' && isGreen) {
                    isWin = true;
                    winMultiplier = 3.5;
                } else if (bet.choice === 'purple' && isPurple) {
                    isWin = true;
                    winMultiplier = 6.0;
                } else if (bet.choice.startsWith('number-')) {
                    const selectedNumber = parseInt(bet.choice.split('-')[1]);
                    if (selectedNumber === winningNumber) {
                        isWin = true;
                        winMultiplier = 9.0;
                    }
                }
                
                if (isWin) {
                    winAmount = bet.amount * winMultiplier;
                    totalWinnings += winAmount;
                    hasAnyWin = true;
                    
                    // Add winnings to balance
                    const currentBalance = getCurrentBalance();
                    const newBalance = currentBalance + winAmount;
                    updateBalance(newBalance);
                } else {
                    totalLosses += bet.amount;
                    hasAnyLoss = true;
                }
                
                // Add to betting history
                const historyEntry = {
                    roundNumber: roundNumber,
                    winningNumber: winningNumber,
                    resultText: resultText,
                    ballColor: ballColor,
                    bet: bet,
                    isWin: isWin,
                    winAmount: winAmount,
                    winMultiplier: winMultiplier,
                    timestamp: new Date().toLocaleString('my-MM')
                };
                
                bettingHistory.unshift(historyEntry);
            });
            
            // Keep only last 50 history entries
            if (bettingHistory.length > 50) {
                bettingHistory = bettingHistory.slice(0, 50);
            }
            
            // Update history display
            updatePastResultsDisplay();
            
            // Show win/lose notification if there were bets
            if (currentRoundBets.length > 0) {
                if (hasAnyWin && hasAnyLoss) {
                    // Mixed results
                    const netResult = totalWinnings - totalLosses;
                    if (netResult > 0) {
                        showWinLoseIcon('win', netResult, winningNumber, resultText);
                    } else {
                        showWinLoseIcon('lose', Math.abs(netResult), winningNumber, resultText);
                    }
                } else if (hasAnyWin) {
                    showWinLoseIcon('win', totalWinnings, winningNumber, resultText);
                } else if (hasAnyLoss) {
                    showWinLoseIcon('lose', totalLosses, winningNumber, resultText);
                }
            } else {
                // No bets placed, just show result
                setTimeout(() => {
                    alert(`üéä Win Go 1min ·Ä°·Äû·ÄÖ·Ä∫·Äë·ÄΩ·ÄÄ·Ä∫·Äï·Äº·ÄÆ·Ä∏! ·Äî·Ä∂·Äï·Ä´·Äê·Ä∫: ${winningNumber} (${resultText})`);
                }, 500);
            }
        }

        function updatePastResultsDisplay() {
            const container = document.getElementById('past-results');
            
            if (bettingHistory.length === 0) {
                container.innerHTML = '<div class="text-center text-gray-500 text-sm py-4">·Äô·Ää·Ä∫·Äû·Ää·Ä∑·Ä∫·Äõ·Äú·Äí·Ä∫·Äô·Äæ ·Äô·Äõ·Äæ·Ä≠·Äû·Ä±·Ä∏·Äï·Ä´</div>';
                document.getElementById('total-profit').textContent = '·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏: +0 Ks';
                return;
            }
            
            // Calculate total profit/loss
            let totalProfit = 0;
            bettingHistory.forEach(entry => {
                if (entry.isWin) {
                    totalProfit += (entry.winAmount - entry.bet.amount);
                } else {
                    totalProfit -= entry.bet.amount;
                }
            });
            
            const profitColor = totalProfit >= 0 ? 'text-green-600' : 'text-red-600';
            const profitSign = totalProfit >= 0 ? '+' : '';
            document.getElementById('total-profit').textContent = `·ÄÖ·ÄØ·ÄÖ·ÄØ·Äï·Ä±·Ä´·ÄÑ·Ä∫·Ä∏: ${profitSign}${totalProfit.toLocaleString()} Ks`;
            document.getElementById('total-profit').className = `ml-auto text-sm font-bold ${profitColor}`;
            
            const historyHTML = bettingHistory.map(entry => {
                let choiceIcon = '';
                let choiceColor = '';
                
                if (entry.bet.choice === 'big') {
                    choiceIcon = 'üî¥';
                    choiceColor = 'text-red-600';
                } else if (entry.bet.choice === 'small') {
                    choiceIcon = 'üîµ';
                    choiceColor = 'text-blue-600';
                } else if (entry.bet.choice === 'red') {
                    choiceIcon = 'üíé';
                    choiceColor = 'text-red-600';
                } else if (entry.bet.choice === 'green') {
                    choiceIcon = 'üçÄ';
                    choiceColor = 'text-green-600';
                } else if (entry.bet.choice === 'purple') {
                    choiceIcon = 'üëë';
                    choiceColor = 'text-purple-600';
                } else if (entry.bet.choice.startsWith('number-')) {
                    const number = entry.bet.choice.split('-')[1];
                    if ([2, 4, 6, 8].includes(parseInt(number))) {
                        choiceIcon = 'üíé';
                        choiceColor = 'text-red-600';
                    } else if ([1, 3, 7, 9].includes(parseInt(number))) {
                        choiceIcon = 'üçÄ';
                        choiceColor = 'text-green-600';
                    } else {
                        choiceIcon = 'üëë';
                        choiceColor = 'text-purple-600';
                    }
                }
                
                const resultIcon = entry.isWin ? '‚úÖ' : '‚ùå';
                const resultColor = entry.isWin ? 'text-green-600' : 'text-red-600';
                const resultAmount = entry.isWin ? `+${entry.winAmount.toLocaleString()}` : `-${entry.bet.amount.toLocaleString()}`;
                
                return `
                    <div class="bg-gray-50 rounded-lg p-3">
                        <div class="flex items-center justify-between mb-2">
                            <div class="flex items-center space-x-2">
                                <div class="text-sm font-bold text-gray-600">#${entry.roundNumber}</div>
                                <div class="lottery-ball ${entry.ballColor} w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold">${entry.winningNumber}</div>
                                <div class="text-xs text-gray-500">${entry.resultText}</div>
                            </div>
                            <div class="text-xs text-gray-500">${entry.timestamp}</div>
                        </div>
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <div class="text-sm">${choiceIcon}</div>
                                <div class="text-sm ${choiceColor} font-semibold">${entry.bet.choiceText}</div>
                                <div class="text-xs text-gray-500">${entry.bet.amount.toLocaleString()} Ks</div>
                            </div>
                            <div class="flex items-center space-x-1">
                                <div class="text-sm">${resultIcon}</div>
                                <div class="text-sm font-bold ${resultColor}">${resultAmount} Ks</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            container.innerHTML = historyHTML;
        }

        function toggleHistoryView() {
            const content = document.getElementById('betting-history-content');
            const toggleText = document.getElementById('history-toggle-text');
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                toggleText.textContent = 'üìã ·Äñ·Äª·Ä±·Ä¨·ÄÄ·Ä∫·Äô·Ää·Ä∫';
                updateCurrentRoundDisplay();
                updatePastResultsDisplay();
            } else {
                content.classList.add('hidden');
                toggleText.textContent = 'üìä ·ÄÄ·Äº·Ää·Ä∑·Ä∫·Äõ·Äæ·ÄØ·Äô·Ää·Ä∫';
            }
        }

        // Initialize the game
        startTimer();
        updateBetAmount();
        
        // Auto-select first multiplier
        document.querySelector('.multiplier-btn').click();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'97efc7d9d5f18941',t:'MTc1Nzg1MTgyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
